language: node_js
node_js:
  - 8
sudo: required
os:
  - windows
  - linux
  - osx
addons:
    chrome: stable
before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start
install:
  - npm set progress=false
  - npm install
jobs:
  include:
  - stage: test
    script:
      - ng lint
      - npm run test
  - stage: release
    script: npm run build
  - stage: deploy
    if: branch = master
    deploy:
      provider: releases

